(function(){"use strict";var e={5290:function(e,t,r){var a=r(9242),n=r(3396);const s={id:"app"};function o(e,t,r,a,o,d){const l=(0,n.up)("NavbarComponent"),m=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(l),(0,n.Wm)(m)])}r(560);var d=r(4870),l=r(2483),m={__name:"NavbarComponent",setup(e){const t=(0,l.tv)(),r=(0,d.iH)([{label:"Список сотрудников",icon:"pi pi-user",command:()=>{t.push("/")}},{label:"Добавить нового сотрудника",icon:"pi pi-user-plus",command:()=>{t.push("/add")}}]);return(e,t)=>{const a=(0,n.up)("Menubar");return(0,n.wg)(),(0,n.j4)(a,{model:r.value},null,8,["model"])}}};const i=m;var u=i,p={name:"App",components:{NavbarComponent:u}},c=r(89);const h=(0,c.Z)(p,[["render",o]]);var f=h,v=r(65),g=(0,v.MT)({state:{items:[]},mutations:{addItem(e,t){e.items.push(t)},updateItem(e,{index:t,item:r}){e.items.splice(t,1,r)},removeItem(e,t){e.items.splice(t,1)}},actions:{addItem({commit:e},t){e("addItem",t)},updateItem({commit:e},{index:t,item:r}){e("updateItem",{index:t,item:r})},removeItem({commit:e},t){e("removeItem",t)}},getters:{getItems:e=>e.items}}),x=r(7139);const I=(0,n._)("h1",null,"Добавление нового сотрудника",-1),w={key:0,class:"text-red-500"},E={key:1,class:"text-red-500"},b={key:2},V={key:3,class:"text-red-500"},y={key:4},k={key:5,class:"text-red-500"},W={key:6,class:"text-red-500"};function $(e,t,r,s,o,d){const l=(0,n.up)("InputText"),m=(0,n.up)("Button"),i=(0,n.up)("ToastComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>d.addItem&&d.addItem(...e)),["prevent"])),class:"flex flex-column w-100 md:w-6 lg:w-4 m-auto mt-5"},[I,(0,n.Wm)(l,{placeholder:"Имя",modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),onInput:d.validateName},null,8,["modelValue","onInput"]),o.nameError?((0,n.wg)(),(0,n.iD)("span",w,(0,x.zw)(o.nameError),1)):(0,n.kq)("",!0),(0,n.Wm)(l,{placeholder:"Фамилия",modelValue:o.surname,"onUpdate:modelValue":t[1]||(t[1]=e=>o.surname=e),onInput:d.validateSurname,class:"mt-4"},null,8,["modelValue","onInput"]),o.surnameError?((0,n.wg)(),(0,n.iD)("span",E,(0,x.zw)(o.surnameError),1)):(0,n.kq)("",!0),(0,n.Wm)(l,{placeholder:"Возраст",modelValue:o.age,"onUpdate:modelValue":t[2]||(t[2]=e=>o.age=e),onInput:d.validateAge,class:"mt-4"},null,8,["modelValue","onInput"]),""!==o.age?((0,n.wg)(),(0,n.iD)("p",b,(0,x.zw)(d.formatYears(o.age)),1)):(0,n.kq)("",!0),o.ageError?((0,n.wg)(),(0,n.iD)("span",V,(0,x.zw)(o.ageError),1)):(0,n.kq)("",!0),(0,n.Wm)(l,{placeholder:"Опыт",modelValue:o.exp,"onUpdate:modelValue":t[3]||(t[3]=e=>o.exp=e),onInput:d.validateExp,class:"mt-4"},null,8,["modelValue","onInput"]),""!==o.exp?((0,n.wg)(),(0,n.iD)("p",y,(0,x.zw)(d.formatYears(o.exp)),1)):(0,n.kq)("",!0),o.expError?((0,n.wg)(),(0,n.iD)("span",k,(0,x.zw)(o.expError),1)):(0,n.kq)("",!0),(0,n.Wm)(l,{placeholder:"Адрес",modelValue:o.address,"onUpdate:modelValue":t[4]||(t[4]=e=>o.address=e),onInput:d.validateAddress,class:"mt-4"},null,8,["modelValue","onInput"]),o.addressError?((0,n.wg)(),(0,n.iD)("span",W,(0,x.zw)(o.addressError),1)):(0,n.kq)("",!0),(0,n.Wm)(m,{label:"Добавить сотрудника",type:"submit",class:"mt-4"})],32),(0,n.Wm)(i)],64)}var Z={data(){return{name:"",surname:"",age:"",exp:"",address:"",nameError:"",surnameError:"",ageError:"",expError:"",addressError:""}},methods:{addItem(){this.name&&this.surname&&this.age&&this.exp&&this.address?this.nameError||this.surnameError||this.ageError||this.expError||this.addressError?alert("форма содержит ошибки"):(this.$store.dispatch("addItem",{name:this.name,surname:this.surname,age:this.age,exp:this.exp,address:this.address}),this.$router.push("/")):alert("все поля должны быть заполнены")},validateName(){/^[a-zA-Zа-яА-Я]+$/.test(this.name)?this.nameError="":this.nameError="Только буквы разрешены"},validateSurname(){/^[a-zA-Zа-яА-Я]+$/.test(this.surname)?this.surnameError="":this.surnameError="Только буквы разрешены"},validateAge(){/^\d+$/.test(this.age)?this.age>100?this.ageError="Возраст слишком большой":this.age<14?this.ageError="Возраст слишком маленький":this.ageError="":this.ageError="Только цифры разрешены"},validateExp(){/^\d+$/.test(this.exp)?this.exp>82?this.expError="Опыт слишком большой":this.expError="":this.expError="Только цифры разрешены"},validateAddress(){/^[a-zA-Zа-яА-Я]+$/.test(this.surname)?this.addressError="":this.addressError="Некорректный адрес"},formatYears(e){let t,r=e%100;return r>=5&&r<=20?t="лет":(r%=10,t=1==r?"год":r>=2&&r<=4?"года":"лет"),e+" "+t}}};const C=(0,c.Z)(Z,[["render",$]]);var D=C;const O=(0,n._)("div",{class:"flex flex-wrap gap-2 align-items-center justify-content-between"},[(0,n._)("h4",{class:"m-0"},"Список сотрудников")],-1);function _(e,t,r,a,s,o){const d=(0,n.up)("Column"),l=(0,n.up)("Button"),m=(0,n.up)("DataTable");return(0,n.wg)(),(0,n.j4)(m,{ref:"dt",value:o.items,dataKey:"id",rows:10,filters:e.filters,class:"mt-5"},{header:(0,n.w5)((()=>[O])),default:(0,n.w5)((()=>[(0,n.Wm)(d,{field:"name",header:"Имя",sortable:"",style:{"min-width":"12rem"}}),(0,n.Wm)(d,{field:"surname",header:"Фамилия",sortable:"",style:{"min-width":"16rem"}}),(0,n.Wm)(d,{field:"age",header:"Возраст",sortable:"",style:{"min-width":"8rem"}}),(0,n.Wm)(d,{field:"exp",header:"Опыт работы",sortable:"",style:{"min-width":"10rem"}}),(0,n.Wm)(d,{field:"address",header:"Адрес",sortable:"",style:{"min-width":"12rem"}}),(0,n.Wm)(d,{exportable:!1,style:{"min-width":"8rem"}},{body:(0,n.w5)((e=>[(0,n.Wm)(l,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:t=>o.editItem(e.index)},null,8,["onClick"])])),_:1})])),_:1},8,["value","filters"])}var z={data(){return{columns:[{field:"name",header:"Имя"},{field:"surname",header:"Фамилия"},{field:"age",header:"Возраст"},{field:"exp",header:"Опыт"},{field:"address",header:"Адрес"}]}},computed:{items(){return this.$store.getters.getItems}},methods:{editItem(e){this.$router.push({path:`/edit/${e}`})}}};const U=(0,c.Z)(z,[["render",_]]);var j=U;const T={class:"mt-5 flex flex-column w-7 m-auto"},A=(0,n._)("h1",null,"Редактирование",-1);function q(e,t,r,s,o,d){const l=(0,n.up)("InputText"),m=(0,n.up)("Button");return(0,n.wg)(),(0,n.iD)("div",T,[A,(0,n._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>d.saveEdit&&d.saveEdit(...e)),["prevent"])),class:"flex flex-column w-4 m-auto mt-5"},[(0,n.Wm)(l,{placeholder:"Имя",modelValue:o.editedItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.editedItem.name=e),ir:""},null,8,["modelValue"]),(0,n.Wm)(l,{placeholder:"Фамилия",modelValue:o.editedItem.surname,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editedItem.surname=e),class:"mt-4"},null,8,["modelValue"]),(0,n.Wm)(l,{placeholder:"Возраст",modelValue:o.editedItem.age,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editedItem.age=e),class:"mt-4"},null,8,["modelValue"]),(0,n.Wm)(l,{placeholder:"Опыт",modelValue:o.editedItem.exp,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editedItem.exp=e),class:"mt-4"},null,8,["modelValue"]),(0,n.Wm)(l,{placeholder:"Адресс",modelValue:o.editedItem.address,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editedItem.address=e),class:"mt-4"},null,8,["modelValue"]),(0,n.Wm)(m,{label:"Сохранить",type:"submit",class:"mt-4"})],32),(0,n.Wm)(m,{onClick:d.deleteItem,severity:"danger",label:"Удалить",type:"submit",class:"w-3 m-auto mt-3"},null,8,["onClick"])])}var M={data(){return{editedItem:{name:""}}},methods:{saveEdit(){this.$store.dispatch("updateItem",{index:this.$route.params.index,item:this.editedItem}),this.$router.push("/")},fetchItem(){const e=this.$route.params.index;this.editedItem={...this.$store.getters.getItems[e]}},deleteItem(){const e=this.$route.params.index;this.$store.dispatch("removeItem",e),this.$router.push("/")}},created(){this.fetchItem()}};const N=(0,c.Z)(M,[["render",q]]);var B=N;const P=[{path:"/",component:j},{path:"/add",component:D},{path:"/edit/:index",component:B}],S=(0,l.p7)({history:(0,l.PO)(),routes:P});var Y=S,H=r(7729),F=r(4694),G=r(8514),K=r(6250),J=r(6824),L=r(7841),Q=r(1540);(0,a.ri)(f).use(Y).use(g).use(H.ZP).component("Menubar",F.Z).component("DataTable",G.Z).component("Column",K.Z).component("InputGroup",J.Z).component("InputText",L.Z).component("Button",Q.Z).mount("#app")}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,s){if(!a){var o=1/0;for(i=0;i<e.length;i++){a=e[i][0],n=e[i][1],s=e[i][2];for(var d=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(d=!1,s<o&&(o=s));if(d){e.splice(i--,1);var m=n();void 0!==m&&(t=m)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[a,n,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,o=a[0],d=a[1],l=a[2],m=0;if(o.some((function(t){return 0!==e[t]}))){for(n in d)r.o(d,n)&&(r.m[n]=d[n]);if(l)var i=l(r)}for(t&&t(a);m<o.length;m++)s=o[m],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(i)},a=self["webpackChunkcrud"]=self["webpackChunkcrud"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5290)}));a=r.O(a)})();
//# sourceMappingURL=app.65f0de26.js.map